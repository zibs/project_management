<h1><%= @project.title %></h1>

<p><%= @project.description %></p>
<h4><%= @project.due_date %></h4>
<p><%= link_to "EDIT", edit_project_path(@project) %></p>
<p><%= link_to "DELETE", project_path(@project), method: :delete, data: { confirm: "Are you sure?"} %></p>

<hr>

<h3>Add a Task </h3>
<!-- error messages of task -->
<% if @task.errors.any? %>
<ul>
  <% @task.errors.full_messages.each do |error| %>
  <li style = "color: red"><%= error %></li>
  <% end %>
</ul>
<% end %>

<!-- form for adding a task  -->
<%= form_for [@project, @task] do |f| %>
  <div>
    <%= f.label :title %>
    <%= f.text_field :title %>
  </div>
  <div>
    <%= f.label :due_date %>
    <%= f.date_select :due_date %>
  </div>
  <div>
    <%= f.submit %>
  </div>
<% end %>

<!-- LIST INCOMPLETE TASKS -->
<% if @tasks_not_done %>
<h2>INCOMPLETE TASKS:</h2>
<%= render "tasks", tasks: @tasks_not_done %>
<% end %>

<!-- LIST COMPLETED TASKS -->
<% if @tasks_done %>
<h2>COMPLETED TASKS: </h2>
<%= render "tasks", tasks: @tasks_done %>
<% end %>


<!-- DISPLAY ALL TASKS-->
 <% if @tasks %>
 <h4>All Tasks ... (<%= @tasks.length %>)</h4>
 <ul>
 <% @tasks.each do |task| %>
   <li><%= task.title  %>
       <%= render "done", task: task %>
       <%= link_to "Delete", [@project, task], method: :delete,
           data: { confirm: "Are you sure?"} %>
   </li>
   <% end %>
 </ul>
 <% end %>
